{{signUpForm.get('username')?.errors |json}}

<div
  *ngIf='!isSignUpSuccessful; else successMessage'
  class='col-lg-6 offset-lg-3 col-md-8 offset-md-2'
>
  <div class='card' data-testId='signUpForm'>
    <header class='card-header text-center'>
      <h1>Sign Up</h1>
    </header>

    <form
      (ngSubmit)='onSubmit()'
      [formGroup]='signUpForm'
      class='card-body'
    >
      <div class='mb-3'>
        <label class='form-label' for='username'>Username</label>
        <input
          [class.is-invalid]='usernameError'
          class='form-control'
          formControlName='username'
          id='username'
          type='text'
        />

        <div
          *ngIf='usernameError'
          class='mt-1 mb-3 invalid-feedback d-block'
          data-testId='usernameValidationError'
        >
          {{usernameError}}
        </div>
      </div>

      <div class='mb-3'>
        <label class='form-label' for='email'>Email</label>
        <input
          [class.is-invalid]='emailError'
          class='form-control'
          formControlName='email'
          id='email'
          type='text'
        />

        <div
          *ngIf='emailError'
          class='mt-1 mb-3 invalid-feedback d-block'
          data-testId='emailValidationError'
        >
          {{emailError}}
        </div>
      </div>

      <div class='mb-3'>
        <label class='form-label' for='password'>Password</label>
        <input
          [class.is-invalid]='passwordError'
          class='form-control'
          formControlName='password'
          id='password'
          type='password'
        />

        <div
          *ngIf='passwordError'
          class='mt-1 mb-3 invalid-feedback d-block'
          data-testId='passwordValidationError'
        >
          {{passwordError}}
        </div>
      </div>

      <div class='mb-3'>
        <label class='form-label' for='confirmPassword'>Confirm Password</label>
        <input
          [class.is-invalid]='confirmPasswordError'
          class='form-control'
          formControlName='confirmPassword'
          id='confirmPassword'
          type='password'
        />

        <div
          *ngIf='confirmPasswordError'
          class='mt-1 mb-3 invalid-feedback d-block'
          data-testId='confirmPasswordValidationError'
        >
          {{confirmPasswordError}}
        </div>
      </div>

      <div class='text-center'>
        <app-button
          [isDisabled]='isDisabled()'
          [isSendingHttpRequest]='isSendingHttpRequest'
        >
          Sign Up
        </app-button>
      </div>
    </form>
  </div>
</div>

<ng-template #successMessage>
  <div class='mt-3 col-lg-6 offset-lg-3 col-md-8 offset-md-2'>
    <app-alert>
      Sign up successful, please check your inbox for activation email.
    </app-alert>
  </div>
</ng-template>
